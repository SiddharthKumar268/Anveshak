<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sources</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Orbitron:wght@700&display=swap">
  <style>
    :root {
      --bg: #23262a;
      --card: rgba(30, 32, 36, 0.6);
      --accent: #ff7a1a;
      --accent-dark: #c65a00;
      --text: #e6e9eb;
      --muted: #bfc5c9;
      --hover-glow: rgba(255, 122, 26, 0.3);
      --glass: rgba(255, 255, 255, 0.03);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(180deg, #1d2023 0%, #25282b 100%);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      padding: 20px;
    }

    a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
    }

    a:hover { text-decoration: underline; }

    h1 {
      font-family: Orbitron, sans-serif;
      color: var(--accent);
      letter-spacing: 2px;
      margin-bottom: 16px;
    }

    .table-container {
      background: var(--card);
      backdrop-filter: blur(12px);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
    }

    table {
  width: 100%;
  border-collapse: collapse; /* ensures no gaps between cells */
}

th, td {
  text-align: left;
  padding: 12px 16px;
  border: none; /* remove cell borders to fix gaps */
}

tr {
  transition: all 0.3s ease;
  border-radius: 8px; /* round row corners */
}

tr:hover {
  background: var(--hover-glow);
  box-shadow: 0 0 12px var(--hover-glow) inset;
}


    .btn {
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-add {
      background: var(--accent);
      color: #111;
      margin-bottom: 16px;
    }

    .btn-add:hover {
      background: var(--accent-dark);
      box-shadow: 0 0 12px var(--hover-glow);
    }
      .add-btn {
    background: var(--accent);
    color: #111;
    padding: 8px 12px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    margin-left: 20px;
    transition: all 0.2s;
  }

  .add-btn:hover {
    background: var(--accent-dark);
  }

    /* Responsive */
    @media (max-width: 768px) {
      th, td { padding: 8px 12px; }
      .table-container { padding: 16px; }
    }
  </style>
</head>
<body>
  <a href="dashboard.html" class="add-btn" style="margin-bottom:16px;">‚Üê Back</a>
  <h1>Sources Accquired Data</h1>

  <div class="table-container">
    <table id="sourcesTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>URL</th>
          <th>Created At</th>
        </tr>
      </thead>
      <tbody>
        <!-- JS will populate rows here -->
      </tbody>
    </table>
  </div>

  <script>
    const token = localStorage.getItem("token");
    if (!token) {
      alert("Please login first!");
      window.location.href = "login.html";
    }

    async function loadSources() {
      const res = await fetch("http://localhost:5000/api/sources", {
        headers: { "Authorization": "Bearer " + token }
      });
      if (!res.ok) return;
      const sources = await res.json();
      const tbody = document.querySelector("#sourcesTable tbody");
      tbody.innerHTML = "";
      sources.forEach(src => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${src.name}</td>
          <td>${src.type}</td>
          <td><a href="${src.url}" target="_blank">${src.url}</a></td>
          <td>${new Date(src.createdAt).toLocaleString()}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    loadSources();
  </script>

</body>
</html>
